from stealth.util import auth_endpoint
from stealth.util import auth_app
from wsgiref import simple_server
from wsgiref.validate import validator
from stealth import conf


# Get the separated Redis Server for Auth
auth_redis_client = auth_endpoint.get_auth_redis_client()


# Example uWSGI app calling.
app = auth_app.app(auth_redis_client)
validator_app = validator(app)
server = simple_server.make_server('', 8080, validator_app)
print('Serving on port 8080 (Ctrl+C to end)...')
server.serve_forever()
